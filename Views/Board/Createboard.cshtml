@model TonaWebApp.Models.Board

<div class=create-container>
    <form id="createPostForm" asp-controller="Board" asp-action="CreateBoard">
        <div class="logo-container">
            <img src="https://cdn.discordapp.com/attachments/1212717114238967838/1212717153686655006/tuna.png?ex=65f2d9dc&is=65e064dc&hm=986fc5efbc87b07f09d041abeb8bcd4841610843301f86c54d4dfbc3fe414319&"
                alt="TonaIcon">
            <h1>TONA</h1>
        </div>
        <h1 class="topic-header">Create Board</h1>
        <label for="name">Topic:</label>
        <input asp-for="Name" type="text" id="name" name="name" placeholder="Enter your meeting topic here" required><br>

        <label for="description">Description:</label>
        <textarea asp-for="Description" id="description" name="description" placeholder="Enter detail of the meeting here"
            required></textarea><br>
        <div class="col-3">
            <div class="max-member">
                <label for="max_member">Max Members:</label>
                <input asp-for="MaxMember" type="number" id="max_member" name="MaxMember" min="1" placeholder="Enter Number >1" required><br>
            </div>

            <div class="start">
                <label for="start_time">Start Time:</label>
                <input asp-for="StartTime" type="datetime-local" id="start_time" name="StartTime" onchange="validateTime()" required><br>
            </div>

            <div class="end">
                <label for="end_time">End Time:</label>
                <input asp-for="EndTime" type="datetime-local" id="end_time" name="EndTime" required onchange="validateTime()"><br>
            </div>
        </div>


        <label for="tag">Tag:</label>
        <select asp-for="Tag" id="tag" name="tag" required>
            <option value="love">Love</option>
            <option value="food">Food</option>
            <option value="study">Study</option>
            <option value="travel">Travel</option>
            <option value="sport">Sport</option>
        </select><br>

        <label for="location">Location:</label>
        <input type="text" id="location" name="location" placeholder="Enter the location you want to meet each other"
            required>

        <button class="create-btn" type="submit">Create Post</button>
    </form>
</div>

<script>
  function validateTime() {
      const startTime = document.getElementById("start_time").value;
      const endTime = document.getElementById("end_time").value;

      // Get current time
      const currentDate = new Date();

      // Convert to Date objects for comparison
      const startDate = new Date(startTime);
      const endDate = new Date(endTime);

      // Check if times are greater than current time
      if (startDate <= currentDate || endDate <= currentDate) {
        let errorMessage = "";
        if (startDate <= currentDate) {
          errorMessage += "Start Time must be after the current time. ";
        }
        if (endDate <= currentDate) {
          errorMessage += "End Time must be after the current time.";
        }
        alert(errorMessage);
        event.preventDefault();

        // Optionally clear input values and set focus on start_time
        document.getElementById("start_time").value = "";
        document.getElementById("end_time").value = "";
        document.getElementById("start_time").focus();
      }
    }
</script>

